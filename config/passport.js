"use strict";var passport=require("passport"),LocalStrategy=require("passport-local").Strategy,db=require("../models");passport.use(new LocalStrategy({usernameField:"email"},(function(e,r,s){db.User.findOne({where:{email:e}}).then((function(e){return e?e.validPassword(r)?s(null,e):s(null,!1,{message:"Incorrect password."}):s(null,!1,{message:"Incorrect email."})}))}))),passport.serializeUser((function(e,r){r(null,e)})),passport.deserializeUser((function(e,r){r(null,e)})),module.exports=passport;